#!/bin/bash
# This file is generated by ansible.
{%if has_X11|default(false) %}
xclip -selection clipboard -selection primary
{% elif is_vm|default(false) %}
#CLIPBOARD=$some_file_shared_with_host
cat - > $CLIPBOARD
# Run a program like the following in the host:
#
#       #!/bin/bash
#       INTERVAL=0.5
#       CLIPBOARD=~/.clipboard
#       last=`ls --full-time $CLIPBOARD | awk '{print $6"-"$7}'`
#       while true; do
#         sleep $INTERVAL
#         current=`ls --full-time $CLIPBOARD | awk '{print $6"-"$7}'`
#         if [ $last != $current ] ; then
#           last=$current
#           echo "updated @$current"
#           cat $CLIPBOARD
#           echo "EOF"
#           iconv -c -f utf-8 -t cp932 $CLIPBOARD | clip
#         fi
#       done
{% else %}
echo "Please edit ~/.local/bin/myclip"
{% endif %}
