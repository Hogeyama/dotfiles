
# \$(){
#   $*
# }

cd-ls(){
  \cd $* && \ls --group-directories-first --color=tty
  dirs -l -p | awk '!x[$0]++' | sed "/home\/hogeyama\$/d" > "$HOME/.dirs_history"
  # awk '!x[$0]++': remove duplicates without sorting
}

hoice-wrapper(){
  cat $1 | sed '/^\s*;/d' > /tmp/hoge.smt2 && hoice /tmp/hoge.smt2
}

xmonad-borderwidth(){
  if ! [[ "$1" =~ ^[0-9]+$ ]]; then
    echo "usage: $0 WIDTH"
  else
    echo $1 > /tmp/xmonad_borderwidth
    xmonad --restart
  fi
}

mkcd(){
  mkdir $1
  cd $1
}


# cd, mv, ...
alias cd='cd-ls'
alias dc='cd-ls'
alias mv='mv -i'
alias cp='cp -iL'
alias l='ls -CF'
alias ll='ls -ahlF'
alias la='ls -A'
alias DU='du -hd1 | sort -h'
alias open='xdg-open'
alias please='sudo'

# latex
alias latexmk='latexmk -interaction=nonstopmode -halt-on-error'
alias xelatexmk='latexmk -xelatex -interaction=nonstopmode -halt-on-error'
alias ocamlwrap='rlwrap ocaml'
alias ocamltop='rlwrap ./ocamltop'

# git
alias gs='git status -s'
alias gpom='git push origin master'

# vim
alias v='nvim'
alias vi='nvim'
alias vim='nvim'
alias :e='nvr -l'
alias :edit='nvr -l'
alias nvr-l='nvr -l'
alias :tabedit='nvr -p'
alias nvr-tab='nvr -p'
alias gvim='nvim-wrapper'

# ssh
alias csc='ssh csc-lg1.is.s.u-tokyo.ac.jp'
alias primergy='ssh iwayama@primergy.kb.is.s.u-tokyo.ac.jp'

# Haskell
alias runghc='stack runghc --'
alias stack-exec='stack exec --'
alias stack-ghcid='stack exec -- ghcid "--command=stack ghci"'
alias stack-which='stack exec -- which'
alias hlint='stack exec -- hlint'
alias weeder='stack exec -- weeder'
alias hoogle='stack exec -- hoogle'

# ocaml
alias jbuilder='nocorrect jbuilder'
alias ocamlbuild-ocamlfind='ocamlbuild -use-ocamlfind'

# xmonad & xmobar
alias xmonad-restart="(\cd $HOME/.xmonad; ./restart)"
alias xmobar-single="\cp $HOME/.xmobar/xmobarrc-single $HOME/.xmobarrc -f; xmonad-restart"
alias xmobar-home="\cp $HOME/.xmobar/xmobarrc-home $HOME/.xmobarrc -f; xmonad-restart"
alias xmobar-lab="\cp $HOME/.xmobar/xmobarrc-lab $HOME/.xmobarrc -f; xmonad-restart"

# other
alias アバーッ='sudo poweroff'
alias mochi-fpat="mochi -fpat '-hccs gch -wp-max 2'"
alias mochi_="mochi -fpat '-hccs gch -wp-max 2' -make-ext-fun-before-encode"
alias todo="cat ~/TODO | sed '/^\s*--/d'"
alias aspell-check='aspell --lang=en -t -c'
alias preview="fzf --preview 'bat --color \"always\" {}'"
alias vimf='fzf | xargs nvr'
alias clean-mochi-out='bash -c "rm -f *.hors *.horsat_out *.dot *.annot *.hrs *.sol *.smt2 *.smt2.ans *.status *.json *.trecs_out"'
alias clean-mochi-out-rec='bash -c "rm -f **/*.hors **/*.horsat_out **/*.dot **/*.annot **/*.hrs **/*.sol **/*.smt2 **/*.smt2.ans **/*.status **/*.trecs_out"'
alias XMODMAP='xmodmap ~/.Xmodmap'
alias CAPSLOC="python -c 'from ctypes import *; X11 = cdll.LoadLibrary(\"libX11.so.6\"); display = X11.XOpenDisplay(None); X11.XkbLockModifiers(display, c_uint(0x0100), c_uint(2), c_uint(0)); X11.XCloseDisplay(display)'"
alias stack-sukkiri="stack exec ghc-pkg -- check -v0 | while read pkg; do; stack exec ghc-pkg -- unregister $pkg --force; done"
alias nihongoutenai='ibus restart'
#alias otodenai='alsactl restore'

alias suspend='sudo pm-suspend'

