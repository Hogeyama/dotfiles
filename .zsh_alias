
cd-ls(){
  \cd $* && \ls --group-directories-first --color=tty
  #\cd $* && \exa --group-directories-first
  dirs -lp | awk '!x[$0]++' | sed "/home\/hogeyama\$/d" > "$HOME/.dirs_history"
  # awk '!x[$0]++': remove duplicates without sorting
}

function dune () {
  if [ $# = "0" ]; then
      jbuilder build
  else
      jbuilder $*
  fi
}

alias cd='cd-ls'
alias dc='cd-ls'
alias mkcd='source ~/.local/bin/mkcd.sh'
alias xelatexmk='latexmk -xelatex'
alias ocamlwrap='rlwrap ocaml'
alias ocamltop='rlwrap ./ocamltop'
alias csc='ssh csc-lg1.is.s.u-tokyo.ac.jp'
alias node='nodejs'
alias v='nvim'
alias vi='nvim'
alias vim='nvim'

alias :e='nvr -l'
alias :edit='nvr -l'
alias nvr-l='nvr -l'
alias :tabedit='nvr -p'
alias nvr-tab='nvr -p'

alias gs='git status'
alias open='xdg-open'
alias idrisl='idris -p pruviloj'
alias pandoc-md='pandoc -s -f markdown+tex_math_double_backslash+lists_without_preceding_blankline+ignore_line_breaks --latex-engine=xelatex --mathjax'
alias gonvim='~/apps/gonvim/gonvim.sh'
alias D='cd_starting_directory'
alias jbuilder='nocorrect jbuilder'
alias ocamlbuild-ocamlfind='ocamlbuild -use-ocamlfind'
alias primergy='ssh iwayama@primergy.kb.is.s.u-tokyo.ac.jp'
alias aspell-check='aspell --lang=en -t -c'
alias l='exa -la --group-directories-first'
alias ls='exa --group-directories-first'
alias la='exa -a --group-directories-first'
alias s='exa -a --group-directories-first'
alias DU='du -hd1 | sort -h'
alias アバーッ='sudo poweroff'
alias gvim='nvim-wrapper'
alias ltxmkp='latexmk -outdir=_build -verbose -file-line-error -synctex=1 -interaction=nonstopmode -pvc'
alias pdf2png='convert -density 300 -quality 100'
alias gpom='git push origin master'

# Haskell
alias runghc='stack runghc --'
alias stack-exec='stack exec --'
alias stack-ghcid='stack exec -- ghcid "--command=stack ghci"'
alias stack-which='stack exec -- which'
alias ghc-mod='stack exec -- ghc-mod'
alias hlint='stack exec -- hlint'
alias weeder='stack exec -- weeder'
alias hoogle='stack exec -- hoogle'
alias hie='stack exec -- hie'

alias mochi-fpat="mochi -fpat '-hccs gch -wp-max 2'"
alias todo="cat ~/TODO | sed '/^\s*--/d'"
